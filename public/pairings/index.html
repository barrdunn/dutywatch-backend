<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Pairings for Barry Dunn</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/pairings/pairings.css?v=44">
</head>
<body>
  <div class="wrap">
    <div class="card" style="position:relative">
      <!-- Calendars -->
      <div id="calendar-container">
        <div class="calendar-widget"><div id="calendar-current"></div></div>
        <div class="calendar-widget"><div id="calendar-next"></div></div>
      </div>

      <!-- Page title -->
      <div style="display:flex;align-items:flex-start;gap:12px;flex-wrap:wrap;flex:1;margin-bottom:6px">
        <h1 style="margin:0">Pairings for Barry Dunn</h1>
      </div>

      <!-- Status -->
      <div class="sub" id="status-line" style="margin:2px 0 8px">
        <span class="chip" id="hidden-chip">
          <span id="hidden-count">Hidden: 0</span>
          <a href="#" data-unhide-all style="color:var(--accent);text-decoration:none;margin-left:6px">Unhide all</a>
        </span>
      </div>

      <!-- Controls -->
      <div class="controls" style="margin-top:8px;align-items:flex-start;gap:12px;flex-wrap:wrap">
        <form onsubmit="window.dwManualRefresh(); return false;"
              style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <button class="btn" type="submit">Refresh</button>
          <span class="chip" id="last-chip">Last: <strong id="last-pull">—</strong></span>
          <span class="chip" id="next-chip">Next: <strong id="next-refresh">—</strong> <span id="next-refresh-eta"></span></span>
        </form>
      </div>

      <!-- Settings inline -->
      <div id="settings-inline" style="display:flex;gap:16px;flex-wrap:wrap;margin-top:16px;flex-direction:row">
        <label class="setting-row" style="gap:8px">
          <span>Auto-refresh:</span>
          <select id="refresh-mins" class="toggle">
            <option value="1">1 min</option>
            <option value="5">5 mins</option>
            <option value="10">10 mins</option>
            <option value="15">15 mins</option>
            <option value="30" selected>30 mins</option>
          </select>
        </label>
        <label class="setting-row" style="gap:8px">
          <span>Clock:</span>
          <select id="clock-mode" class="toggle">
            <option value="12" selected>12h</option>
            <option value="24">24h</option>
          </select>
        </label>
      </div>

      <!-- Medical Portal Link - Always visible -->
      <div style="margin-top:12px">
        <a href="/medical" class="btn" style="text-decoration:none"> →</a>
      </div>

      <!-- Pairings table -->
      <table id="pairings">
        <thead>
          <tr>
            <th class="ckhdr" aria-label="Check In"><span aria-hidden="true">✓</span></th>
            <th>Pairing</th>
            <th>Report</th>
            <th>Release</th>
          </tr>
        </thead>
        <tbody id="pairings-body"></tbody>
      </table>
    </div>
  </div>

  <script id="dw-boot" type="application/json">{
    "clockMode": "12",
    "onlyReports": false,
    "tz": "CT",
    "refreshMinutes": 30,
    "apiBase": "",
    "baseAirport": "DFW"
  }</script>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
  <script src="/pairings/pairings.js?v=45"></script>
</body>
</html>